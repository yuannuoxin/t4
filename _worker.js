/**
 * Welcome to Cloudflare Workers! This is your first worker.
 *
 * - Run "npm run dev" in your terminal to start a development server
 * - Open a browser tab at http://localhost:8787/ to see your worker in action
 * - Run "npm run deploy" to publish your worker
 *
 * Learn more at https://developers.cloudflare.com/workers/
 */


const _0xa90fe4=_0x3bc2;(function(_0x429a43,_0xabd82f){const _0x1a90ef=_0x3bc2,_0x4c652e=_0x429a43();while(!![]){try{const _0x11d0ab=-parseInt(_0x1a90ef(0xa3))/0x1+-parseInt(_0x1a90ef(0x18e))/0x2+parseInt(_0x1a90ef(0x192))/0x3*(-parseInt(_0x1a90ef(0x8c))/0x4)+parseInt(_0x1a90ef(0xce))/0x5+parseInt(_0x1a90ef(0xc9))/0x6*(-parseInt(_0x1a90ef(0x105))/0x7)+parseInt(_0x1a90ef(0xc8))/0x8*(-parseInt(_0x1a90ef(0x8d))/0x9)+-parseInt(_0x1a90ef(0xb5))/0xa*(-parseInt(_0x1a90ef(0x1b5))/0xb);if(_0x11d0ab===_0xabd82f)break;else _0x4c652e['push'](_0x4c652e['shift']());}catch(_0x3d9d39){_0x4c652e['push'](_0x4c652e['shift']());}}}(_0x4feb,0x335cc));import{connect}from'cloudflare:sockets';let userID='',proxyIP='',sub='',subConverter=_0xa90fe4(0xb4),subConfig=_0xa90fe4(0x147),subProtocol='https',subEmoji=_0xa90fe4(0x99),socks5Address='',parsedSocks5Address={},enableSocks=![],fakeUserID,fakeHostName,noTLS=_0xa90fe4(0x9c);const expire=0xf4849500;let proxyIPs,socks5s,go2Socks5s=[_0xa90fe4(0x18d),_0xa90fe4(0x126),_0xa90fe4(0x19c),'*.loadshare.org'],addresses=[],addressesapi=[],addressesnotls=[],addressesnotlsapi=[],addressescsv=[],DLS=0x8,FileName=atob('ZWRnZXR1bm5lbA=='),BotToken,ChatID,proxyhosts=[],proxyhostsURL='',RproxyIP=_0xa90fe4(0x9c),httpsPorts=[_0xa90fe4(0xa9),'2083','2087',_0xa90fe4(0x9f),_0xa90fe4(0xbb)],有效时间=0x7,更新时间=0x3,userIDLow,userIDTime='',proxyIPPool=[],path=_0xa90fe4(0x113);export default{async 'fetch'(_0xcd7dda,_0x4b276b,_0x39f182){const _0x54c0ec=_0xa90fe4;try{const _0x5675de=_0xcd7dda[_0x54c0ec(0x8f)][_0x54c0ec(0x182)](_0x54c0ec(0x12a))||'null',_0x401183=_0x5675de[_0x54c0ec(0x139)]();if(_0x4b276b[_0x54c0ec(0x14f)]){有效时间=_0x4b276b[_0x54c0ec(0x194)]||有效时间,更新时间=_0x4b276b['UPTIME']||更新时间;const _0x50a6a1=await 生成动态UUID(_0x4b276b[_0x54c0ec(0x14f)]);userID=_0x50a6a1[0x0];}else _0x4b276b[_0x54c0ec(0x1be)]&&(userID=_0x4b276b['UUID']);subEmoji=_0x4b276b['SUBEMOJI']||_0x4b276b[_0x54c0ec(0x187)]||subEmoji;if(subEmoji=='0')subEmoji=_0x54c0ec(0x9c);if(!userID)return new Response(_0x54c0ec(0xa0),{'status':0x194,'headers':{'Content-Type':_0x54c0ec(0x178)}});const _0x1f6fb4=new Date();_0x1f6fb4[_0x54c0ec(0xfc)](0x0,0x0,0x0,0x0);const _0x575e54=Math[_0x54c0ec(0x168)](_0x1f6fb4['getTime']()/0x3e8),_0x3f773e=await 双重哈希(''+userID+_0x575e54);fakeUserID=[_0x3f773e['slice'](0x0,0x8),_0x3f773e[_0x54c0ec(0x161)](0x8,0xc),_0x3f773e[_0x54c0ec(0x161)](0xc,0x10),_0x3f773e[_0x54c0ec(0x161)](0x10,0x14),_0x3f773e['slice'](0x14)][_0x54c0ec(0x195)]('-'),fakeHostName=_0x3f773e['slice'](0x6,0x9)+'.'+_0x3f773e[_0x54c0ec(0x161)](0xd,0x13),proxyIP=_0x4b276b[_0x54c0ec(0xc0)]||proxyIP,proxyIPs=await 整理(proxyIP),proxyIP=proxyIPs[Math['floor'](Math[_0x54c0ec(0xf7)]()*proxyIPs[_0x54c0ec(0x186)])],socks5Address=_0x4b276b['SOCKS5']||socks5Address,socks5s=await 整理(socks5Address),socks5Address=socks5s[Math[_0x54c0ec(0x12b)](Math[_0x54c0ec(0xf7)]()*socks5s[_0x54c0ec(0x186)])],socks5Address=socks5Address[_0x54c0ec(0x10f)]('//')[0x1]||socks5Address;if(_0x4b276b[_0x54c0ec(0x17d)])httpsPorts=await 整理(_0x4b276b[_0x54c0ec(0x17d)]);sub=_0x4b276b[_0x54c0ec(0xf5)]||sub,subConverter=_0x4b276b[_0x54c0ec(0x14e)]||subConverter;subConverter[_0x54c0ec(0x13e)](_0x54c0ec(0x109))?(subConverter=subConverter['split']('//')[0x1],subProtocol='http'):subConverter=subConverter[_0x54c0ec(0x10f)]('//')[0x1]||subConverter;subConfig=_0x4b276b[_0x54c0ec(0x136)]||subConfig;if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),RproxyIP=_0x4b276b[_0x54c0ec(0xe1)]||'false',enableSocks=!![];}catch(_0x2254a1){let _0x17833d=_0x2254a1;console[_0x54c0ec(0x18b)](_0x17833d[_0x54c0ec(0xf2)]()),RproxyIP=_0x4b276b['RPROXYIP']||!proxyIP?_0x54c0ec(0x99):_0x54c0ec(0x9c),enableSocks=![];}else RproxyIP=_0x4b276b[_0x54c0ec(0xe1)]||!proxyIP?_0x54c0ec(0x99):'false';if(_0x4b276b['ADD'])addresses=await 整理(_0x4b276b[_0x54c0ec(0x143)]);if(_0x4b276b['ADDAPI'])addressesapi=await 整理(_0x4b276b['ADDAPI']);if(_0x4b276b[_0x54c0ec(0x181)])addressesnotls=await 整理(_0x4b276b[_0x54c0ec(0x181)]);if(_0x4b276b[_0x54c0ec(0xf0)])addressesnotlsapi=await 整理(_0x4b276b[_0x54c0ec(0xf0)]);if(_0x4b276b[_0x54c0ec(0x128)])addressescsv=await 整理(_0x4b276b[_0x54c0ec(0x128)]);DLS=_0x4b276b[_0x54c0ec(0x16c)]||DLS,BotToken=_0x4b276b[_0x54c0ec(0x155)]||BotToken,ChatID=_0x4b276b[_0x54c0ec(0xd5)]||ChatID;if(_0x4b276b[_0x54c0ec(0xb1)])go2Socks5s=await 整理(_0x4b276b[_0x54c0ec(0xb1)]);const _0x3a0170=_0xcd7dda['headers'][_0x54c0ec(0x182)](_0x54c0ec(0x162)),_0x384820=new URL(_0xcd7dda[_0x54c0ec(0x15c)]);if(_0x384820[_0x54c0ec(0xd8)][_0x54c0ec(0xea)](_0x54c0ec(0x17b))&&_0x384820['searchParams'][_0x54c0ec(0x182)](_0x54c0ec(0x17b))!=='')sub=_0x384820['searchParams'][_0x54c0ec(0x182)](_0x54c0ec(0x17b));FileName=_0x4b276b[_0x54c0ec(0x164)]||FileName;if(_0x384820[_0x54c0ec(0xd8)]['has'](_0x54c0ec(0x15d)))noTLS='true';if(!_0x3a0170||_0x3a0170!==_0x54c0ec(0x160)){if(_0x384820[_0x54c0ec(0xd8)]['has']('proxyip'))path=_0x54c0ec(0x185)+_0x384820[_0x54c0ec(0xd8)][_0x54c0ec(0x182)](_0x54c0ec(0x101)),RproxyIP=_0x54c0ec(0x9c);else{if(_0x384820[_0x54c0ec(0xd8)]['has'](_0x54c0ec(0x1b4)))path=_0x54c0ec(0x1c1)+_0x384820[_0x54c0ec(0xd8)][_0x54c0ec(0x182)](_0x54c0ec(0x1b4)),RproxyIP='false';else _0x384820[_0x54c0ec(0xd8)][_0x54c0ec(0xea)](_0x54c0ec(0x19e))&&(path='/?ed=2560&socks5='+_0x384820[_0x54c0ec(0xd8)][_0x54c0ec(0x182)](_0x54c0ec(0x19e)),RproxyIP=_0x54c0ec(0x9c));}const _0x4624fc=_0x384820[_0x54c0ec(0x1c2)][_0x54c0ec(0x139)]();if(_0x4624fc=='/'){if(_0x4b276b[_0x54c0ec(0x130)])return Response[_0x54c0ec(0x12e)](_0x4b276b['URL302'],0x12e);else{if(_0x4b276b[_0x54c0ec(0x172)])return await 代理URL(_0x4b276b['URL'],_0x384820);else return new Response(JSON['stringify'](_0xcd7dda['cf'],null,0x4),{'status':0xc8,'headers':{'content-type':_0x54c0ec(0xd7)}});}}else{if(_0x4624fc=='/'+fakeUserID){const _0x57e6dd=await 生成配置信息(userID,_0xcd7dda[_0x54c0ec(0x8f)][_0x54c0ec(0x182)](_0x54c0ec(0x1c3)),sub,'CF-Workers-SUB',RproxyIP,_0x384820,_0x4b276b);return new Response(''+_0x57e6dd,{'status':0xc8});}else{if(_0x4624fc=='/'+_0x4b276b[_0x54c0ec(0x14f)]||_0x4624fc=='/'+userID){await sendMessage(_0x54c0ec(0x102)+FileName,_0xcd7dda[_0x54c0ec(0x8f)][_0x54c0ec(0x182)](_0x54c0ec(0x10b)),_0x54c0ec(0xbe)+_0x5675de+_0x54c0ec(0xa8)+_0x384820[_0x54c0ec(0x132)]+'\x0a<tg-spoiler>入口:\x20'+(_0x384820[_0x54c0ec(0x1c2)]+_0x384820[_0x54c0ec(0xca)])+_0x54c0ec(0x12c));const _0x4c3314=await 生成配置信息(userID,_0xcd7dda[_0x54c0ec(0x8f)]['get'](_0x54c0ec(0x1c3)),sub,_0x5675de,RproxyIP,_0x384820,_0x4b276b),_0x55fdc9=Date[_0x54c0ec(0x138)](),_0x5e51d1=new Date(_0x55fdc9);_0x5e51d1[_0x54c0ec(0xfc)](0x0,0x0,0x0,0x0);const _0x1ead2a=Math[_0x54c0ec(0x12b)]((_0x55fdc9-_0x5e51d1['getTime']())/0x5265c00*0x18*0x10000000000/0x2);let _0x1fddfb=_0x1ead2a,_0x22a83b=_0x1ead2a,_0xc54ce4=0x18*0x10000000000;return _0x401183&&_0x401183[_0x54c0ec(0x13e)](_0x54c0ec(0x163))?new Response(''+_0x4c3314,{'status':0xc8,'headers':{'Content-Type':_0x54c0ec(0x178),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x54c0ec(0x1a3)+_0x1fddfb+_0x54c0ec(0x17e)+_0x22a83b+_0x54c0ec(0x191)+_0xc54ce4+_0x54c0ec(0xb3)+expire}}):new Response(''+_0x4c3314,{'status':0xc8,'headers':{'Content-Disposition':_0x54c0ec(0x158)+FileName+_0x54c0ec(0x183)+encodeURIComponent(FileName),'Content-Type':_0x54c0ec(0x178),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x54c0ec(0x1a3)+_0x1fddfb+_0x54c0ec(0x17e)+_0x22a83b+_0x54c0ec(0x191)+_0xc54ce4+_0x54c0ec(0xb3)+expire}});}else{if(_0x4b276b[_0x54c0ec(0x130)])return Response[_0x54c0ec(0x12e)](_0x4b276b[_0x54c0ec(0x130)],0x12e);else{if(_0x4b276b['URL'])return await 代理URL(_0x4b276b[_0x54c0ec(0x172)],_0x384820);else return new Response('',{'status':0x194});}}}}}else{socks5Address=_0x384820[_0x54c0ec(0xd8)][_0x54c0ec(0x182)](_0x54c0ec(0x1b4))||socks5Address;if(new RegExp(_0x54c0ec(0x108),'i')[_0x54c0ec(0x103)](_0x384820[_0x54c0ec(0x1c2)]))socks5Address=_0x384820[_0x54c0ec(0x1c2)][_0x54c0ec(0x10f)]('5=')[0x1];else{if(new RegExp(_0x54c0ec(0x1bc),'i')['test'](_0x384820[_0x54c0ec(0x1c2)])||new RegExp(_0x54c0ec(0x144),'i')[_0x54c0ec(0x103)](_0x384820[_0x54c0ec(0x1c2)])){socks5Address=_0x384820['pathname'][_0x54c0ec(0x10f)](_0x54c0ec(0xde))[0x1][_0x54c0ec(0x10f)]('#')[0x0];if(socks5Address[_0x54c0ec(0x13e)]('@')){let _0x22eacd=socks5Address[_0x54c0ec(0x10f)]('@')[0x0];const _0x561ec0=/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i;if(_0x561ec0[_0x54c0ec(0x103)](_0x22eacd)&&!_0x22eacd['includes'](':'))_0x22eacd=atob(_0x22eacd);socks5Address=_0x22eacd+'@'+socks5Address[_0x54c0ec(0x10f)]('@')[0x1];}}}if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x21f553){let _0x3278e0=_0x21f553;console['log'](_0x3278e0['toString']()),enableSocks=![];}else enableSocks=![];if(_0x384820['searchParams'][_0x54c0ec(0xea)](_0x54c0ec(0x101)))proxyIP=_0x384820[_0x54c0ec(0xd8)][_0x54c0ec(0x182)](_0x54c0ec(0x101)),enableSocks=![];else{if(new RegExp(_0x54c0ec(0x1c4),'i')['test'](_0x384820[_0x54c0ec(0x1c2)]))proxyIP=_0x384820[_0x54c0ec(0x1c2)][_0x54c0ec(0x139)]()[_0x54c0ec(0x10f)](_0x54c0ec(0x1c4))[0x1],enableSocks=![];else new RegExp(_0x54c0ec(0xc1),'i')[_0x54c0ec(0x103)](_0x384820[_0x54c0ec(0x1c2)])&&(proxyIP=_0x54c0ec(0x1bf)+_0x384820['pathname'][_0x54c0ec(0x139)]()[_0x54c0ec(0x10f)]('/proxyip.')[0x1],enableSocks=![]);}return await vlessOverWSHandler(_0xcd7dda);}}catch(_0x43eafc){let _0xbf1dc0=_0x43eafc;return new Response(_0xbf1dc0[_0x54c0ec(0xf2)]());}}};async function vlessOverWSHandler(_0x2a80db){const _0x5afbce=_0xa90fe4,_0x846d0e=new WebSocketPair(),[_0x2c7586,_0x105d0f]=Object[_0x5afbce(0xbd)](_0x846d0e);_0x105d0f[_0x5afbce(0x16d)]();let _0x472882='',_0x2a7c69='';const _0x29314a=(_0x194915,_0x8debb1)=>{const _0x18a001=_0x5afbce;console[_0x18a001(0x18b)]('['+_0x472882+':'+_0x2a7c69+']\x20'+_0x194915,_0x8debb1||'');},_0x5ba200=_0x2a80db[_0x5afbce(0x8f)][_0x5afbce(0x182)](_0x5afbce(0x1c0))||'',_0x218235=makeReadableWebSocketStream(_0x105d0f,_0x5ba200,_0x29314a);let _0x316999={'value':null},_0x5a2e2f=![];return _0x218235[_0x5afbce(0x1b0)](new WritableStream({async 'write'(_0x2d1adf,_0x5d57a4){const _0x47eb06=_0x5afbce;if(_0x5a2e2f)return await handleDNSQuery(_0x2d1adf,_0x105d0f,null,_0x29314a);if(_0x316999[_0x47eb06(0x92)]){const _0x247ee5=_0x316999[_0x47eb06(0x92)][_0x47eb06(0xfa)][_0x47eb06(0x148)]();await _0x247ee5[_0x47eb06(0xd0)](_0x2d1adf),_0x247ee5[_0x47eb06(0x137)]();return;}const {hasError:_0x6ae858,message:_0xb8184e,addressType:_0xa033bc,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x443e92,vlessVersion:vlessVersion=new Uint8Array([0x0,0x0]),isUDP:_0x5950a4}=processVlessHeader(_0x2d1adf,userID);_0x472882=addressRemote,_0x2a7c69=portRemote+'--'+Math[_0x47eb06(0xf7)]()+'\x20'+(_0x5950a4?_0x47eb06(0xba):_0x47eb06(0x11b))+'\x20';if(_0x6ae858){throw new Error(_0xb8184e);return;}if(_0x5950a4){if(portRemote===0x35)_0x5a2e2f=!![];else{throw new Error(_0x47eb06(0x106));return;}}const _0x41aafb=new Uint8Array([vlessVersion[0x0],0x0]),_0x4afd03=_0x2d1adf[_0x47eb06(0x161)](_0x443e92);if(_0x5a2e2f)return handleDNSQuery(_0x4afd03,_0x105d0f,_0x41aafb,_0x29314a);_0x29314a(_0x47eb06(0x1ad)+addressRemote+':'+portRemote),handleTCPOutBound(_0x316999,_0xa033bc,addressRemote,portRemote,_0x4afd03,_0x105d0f,_0x41aafb,_0x29314a);},'close'(){const _0x2af4c4=_0x5afbce;_0x29314a(_0x2af4c4(0xa2));},'abort'(_0x65d667){const _0x1f9da5=_0x5afbce;_0x29314a(_0x1f9da5(0x112),JSON[_0x1f9da5(0x176)](_0x65d667));}}))[_0x5afbce(0x1a1)](_0x3c5022=>{const _0x2416a5=_0x5afbce;_0x29314a(_0x2416a5(0x140),_0x3c5022);}),new Response(null,{'status':0x65,'webSocket':_0x2c7586});}async function handleTCPOutBound(_0x2c0c8d,_0x21d982,_0x10ca84,_0x5c4026,_0x123d93,_0x5598c9,_0x7b8ca0,_0x44bbff){const _0x21bb41=_0xa90fe4;async function _0x38a2f3(_0x10dc51){const _0x3fa43f=_0x3bc2;if(go2Socks5s[_0x3fa43f(0x13e)](atob('YWxsIGlu'))||go2Socks5s[_0x3fa43f(0x13e)](atob(_0x3fa43f(0xa6))))return!![];return go2Socks5s['some'](_0x461042=>{const _0x292946=_0x3fa43f;let _0x54cfc0=_0x461042[_0x292946(0x159)](/\*/g,'.*'),_0x3ade67=new RegExp('^'+_0x54cfc0+'$','i');return _0x3ade67[_0x292946(0x103)](_0x10dc51);});}async function _0x26a3d5(_0x366211,_0x7d48e5,_0x19af0c=![]){const _0x5c20ac=_0x3bc2;_0x44bbff(_0x5c20ac(0xa1)+_0x366211+':'+_0x7d48e5);const _0x49f42c=_0x19af0c?await socks5Connect(_0x21d982,_0x366211,_0x7d48e5,_0x44bbff):connect({'hostname':_0x366211,'port':_0x7d48e5});_0x2c0c8d['value']=_0x49f42c;const _0x2ee572=_0x49f42c['writable'][_0x5c20ac(0x148)]();return await _0x2ee572[_0x5c20ac(0xd0)](_0x123d93),_0x2ee572[_0x5c20ac(0x137)](),_0x49f42c;}async function _0x533a35(){const _0x13e4a7=_0x3bc2;if(enableSocks)_0x23875f=await _0x26a3d5(_0x10ca84,_0x5c4026,!![]);else{if(!proxyIP||proxyIP=='')proxyIP=atob(_0x13e4a7(0xf9));else{if(proxyIP[_0x13e4a7(0x13e)](']:'))_0x5c4026=proxyIP[_0x13e4a7(0x10f)](']:')[0x1]||_0x5c4026,proxyIP=proxyIP['split'](']:')[0x0]||proxyIP;else proxyIP[_0x13e4a7(0x10f)](':')[_0x13e4a7(0x186)]===0x2&&(_0x5c4026=proxyIP[_0x13e4a7(0x10f)](':')[0x1]||_0x5c4026,proxyIP=proxyIP[_0x13e4a7(0x10f)](':')[0x0]||proxyIP);}if(proxyIP['includes'](_0x13e4a7(0x153)))_0x5c4026=proxyIP[_0x13e4a7(0x10f)]('.tp')[0x1][_0x13e4a7(0x10f)]('.')[0x0]||_0x5c4026;_0x23875f=await _0x26a3d5(proxyIP||_0x10ca84,_0x5c4026);}_0x23875f[_0x13e4a7(0x90)][_0x13e4a7(0x1a1)](_0x5abeb4=>{const _0x56b39d=_0x13e4a7;console[_0x56b39d(0x18b)]('retry\x20tcpSocket\x20closed\x20error',_0x5abeb4);})[_0x13e4a7(0x10a)](()=>{safeCloseWebSocket(_0x5598c9);}),remoteSocketToWS(_0x23875f,_0x5598c9,_0x7b8ca0,null,_0x44bbff);}let _0x579627=![];if(go2Socks5s[_0x21bb41(0x186)]>0x0&&enableSocks)_0x579627=await _0x38a2f3(_0x10ca84);let _0x23875f=await _0x26a3d5(_0x10ca84,_0x5c4026,_0x579627);remoteSocketToWS(_0x23875f,_0x5598c9,_0x7b8ca0,_0x533a35,_0x44bbff);}function makeReadableWebSocketStream(_0x5a8fff,_0x17bdfb,_0x516881){let _0x19af3f=![];const _0xbe08e8=new ReadableStream({'start'(_0x5dd638){const _0x1e01d7=_0x3bc2;_0x5a8fff[_0x1e01d7(0xff)]('message',_0x2c0a7=>{const _0x1053fd=_0x1e01d7;if(_0x19af3f)return;const _0x138a3c=_0x2c0a7[_0x1053fd(0x1a7)];_0x5dd638[_0x1053fd(0x174)](_0x138a3c);}),_0x5a8fff[_0x1e01d7(0xff)](_0x1e01d7(0x95),()=>{const _0x32327e=_0x1e01d7;safeCloseWebSocket(_0x5a8fff);if(_0x19af3f)return;_0x5dd638[_0x32327e(0x95)]();}),_0x5a8fff['addEventListener'](_0x1e01d7(0x127),_0xf540c6=>{const _0x19294b=_0x1e01d7;_0x516881('WebSocket\x20服务器发生错误'),_0x5dd638[_0x19294b(0x127)](_0xf540c6);});const {earlyData:_0x209f6b,error:_0x1d6fab}=base64ToArrayBuffer(_0x17bdfb);if(_0x1d6fab)_0x5dd638[_0x1e01d7(0x127)](_0x1d6fab);else _0x209f6b&&_0x5dd638[_0x1e01d7(0x174)](_0x209f6b);},'pull'(_0xf4cb2c){},'cancel'(_0x49777b){const _0x2719dc=_0x3bc2;if(_0x19af3f)return;_0x516881(_0x2719dc(0x19b)+_0x49777b),_0x19af3f=!![],safeCloseWebSocket(_0x5a8fff);}});return _0xbe08e8;}function processVlessHeader(_0x5e13d0,_0x2a6451){const _0x113073=_0xa90fe4;if(_0x5e13d0[_0x113073(0xa7)]<0x18)return{'hasError':!![],'message':'invalid\x20data'};const _0x144777=new Uint8Array(_0x5e13d0['slice'](0x0,0x1));let _0x12f6b5=![],_0x169824=![];function _0x1800ef(_0xcb11de,_0xeb515d,_0x9b36d3){const _0x6a8504=_0x113073,_0x117a81=new Uint8Array(_0x9b36d3[_0x6a8504(0x161)](0x1,0x11)),_0x6475fa=stringify(_0x117a81);return _0x6475fa===_0xcb11de||_0x6475fa===_0xeb515d;}_0x12f6b5=_0x1800ef(_0x2a6451,userIDLow,_0x5e13d0);if(!_0x12f6b5)return{'hasError':!![],'message':'invalid\x20user\x20'+new Uint8Array(_0x5e13d0['slice'](0x1,0x11))};const _0x374caf=new Uint8Array(_0x5e13d0[_0x113073(0x161)](0x11,0x12))[0x0],_0x10df6d=new Uint8Array(_0x5e13d0[_0x113073(0x161)](0x12+_0x374caf,0x12+_0x374caf+0x1))[0x0];if(_0x10df6d===0x1){}else{if(_0x10df6d===0x2)_0x169824=!![];else return{'hasError':!![],'message':_0x113073(0x179)+_0x10df6d+_0x113073(0xfe)};}const _0x1ae1b1=0x12+_0x374caf+0x1,_0x43c2ae=_0x5e13d0[_0x113073(0x161)](_0x1ae1b1,_0x1ae1b1+0x2),_0x411365=new DataView(_0x43c2ae)['getUint16'](0x0);let _0x394e1f=_0x1ae1b1+0x2;const _0x41e5bf=new Uint8Array(_0x5e13d0[_0x113073(0x161)](_0x394e1f,_0x394e1f+0x1)),_0x140964=_0x41e5bf[0x0];let _0xb55581=0x0,_0x46ebd8=_0x394e1f+0x1,_0x4373a0='';switch(_0x140964){case 0x1:_0xb55581=0x4,_0x4373a0=new Uint8Array(_0x5e13d0[_0x113073(0x161)](_0x46ebd8,_0x46ebd8+_0xb55581))[_0x113073(0x195)]('.');break;case 0x2:_0xb55581=new Uint8Array(_0x5e13d0['slice'](_0x46ebd8,_0x46ebd8+0x1))[0x0],_0x46ebd8+=0x1,_0x4373a0=new TextDecoder()[_0x113073(0x141)](_0x5e13d0['slice'](_0x46ebd8,_0x46ebd8+_0xb55581));break;case 0x3:_0xb55581=0x10;const _0xaa38c6=new DataView(_0x5e13d0[_0x113073(0x161)](_0x46ebd8,_0x46ebd8+_0xb55581)),_0x5198f3=[];for(let _0x18f1fd=0x0;_0x18f1fd<0x8;_0x18f1fd++){_0x5198f3[_0x113073(0x134)](_0xaa38c6['getUint16'](_0x18f1fd*0x2)[_0x113073(0xf2)](0x10));}_0x4373a0=_0x5198f3[_0x113073(0x195)](':');break;default:return{'hasError':!![],'message':_0x113073(0x149)+_0x140964};}if(!_0x4373a0)return{'hasError':!![],'message':'addressValue\x20is\x20empty,\x20addressType\x20is\x20'+_0x140964};return{'hasError':![],'addressRemote':_0x4373a0,'addressType':_0x140964,'portRemote':_0x411365,'rawDataIndex':_0x46ebd8+_0xb55581,'vlessVersion':_0x144777,'isUDP':_0x169824};}async function remoteSocketToWS(_0x1f8df0,_0x4565b9,_0x4415b4,_0x4a2084,_0x3ae5ae){const _0x216bd4=_0xa90fe4;let _0x4d1f09=0x0,_0x2f5ed4=[],_0x172453=_0x4415b4,_0x310faa=![];await _0x1f8df0[_0x216bd4(0x8b)][_0x216bd4(0x1b0)](new WritableStream({'start'(){},async 'write'(_0x3f8670,_0x24b478){const _0x544d85=_0x216bd4;_0x310faa=!![],_0x4565b9[_0x544d85(0x11f)]!==WS_READY_STATE_OPEN&&_0x24b478[_0x544d85(0x127)]('webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close'),_0x172453?(_0x4565b9['send'](await new Blob([_0x172453,_0x3f8670])[_0x544d85(0xe7)]()),_0x172453=null):_0x4565b9['send'](_0x3f8670);},'close'(){const _0x4bd42b=_0x216bd4;_0x3ae5ae(_0x4bd42b(0x8e)+_0x310faa);},'abort'(_0x5dbc6b){const _0x5348ac=_0x216bd4;console[_0x5348ac(0x127)](_0x5348ac(0x111),_0x5dbc6b);}}))[_0x216bd4(0x1a1)](_0x5147e2=>{const _0x34bcbc=_0x216bd4;console['error'](_0x34bcbc(0xdc),_0x5147e2[_0x34bcbc(0xc6)]||_0x5147e2),safeCloseWebSocket(_0x4565b9);}),_0x310faa===![]&&_0x4a2084&&(_0x3ae5ae('retry'),_0x4a2084());}function base64ToArrayBuffer(_0x4f5ad5){const _0x69ee28=_0xa90fe4;if(!_0x4f5ad5)return{'error':null};try{_0x4f5ad5=_0x4f5ad5[_0x69ee28(0x159)](/-/g,'+')['replace'](/_/g,'/');const _0x3014a4=atob(_0x4f5ad5),_0x1dc7c5=Uint8Array[_0x69ee28(0x16f)](_0x3014a4,_0x36a730=>_0x36a730['charCodeAt'](0x0));return{'earlyData':_0x1dc7c5[_0x69ee28(0x110)],'error':null};}catch(_0x38749f){return{'error':_0x38749f};}}function isValidUUID(_0x21fc8c){const _0x20a127=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x20a127['test'](_0x21fc8c);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x3e2223){const _0xf3f9a7=_0xa90fe4;try{(_0x3e2223[_0xf3f9a7(0x11f)]===WS_READY_STATE_OPEN||_0x3e2223[_0xf3f9a7(0x11f)]===WS_READY_STATE_CLOSING)&&_0x3e2223[_0xf3f9a7(0x95)]();}catch(_0x3c8fc2){console[_0xf3f9a7(0x127)](_0xf3f9a7(0x12d),_0x3c8fc2);}}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex[_0xa90fe4(0x134)]((i+0x100)[_0xa90fe4(0xf2)](0x10)['slice'](0x1));}function unsafeStringify(_0x194ab9,_0x48810d=0x0){const _0x515893=_0xa90fe4;return(byteToHex[_0x194ab9[_0x48810d+0x0]]+byteToHex[_0x194ab9[_0x48810d+0x1]]+byteToHex[_0x194ab9[_0x48810d+0x2]]+byteToHex[_0x194ab9[_0x48810d+0x3]]+'-'+byteToHex[_0x194ab9[_0x48810d+0x4]]+byteToHex[_0x194ab9[_0x48810d+0x5]]+'-'+byteToHex[_0x194ab9[_0x48810d+0x6]]+byteToHex[_0x194ab9[_0x48810d+0x7]]+'-'+byteToHex[_0x194ab9[_0x48810d+0x8]]+byteToHex[_0x194ab9[_0x48810d+0x9]]+'-'+byteToHex[_0x194ab9[_0x48810d+0xa]]+byteToHex[_0x194ab9[_0x48810d+0xb]]+byteToHex[_0x194ab9[_0x48810d+0xc]]+byteToHex[_0x194ab9[_0x48810d+0xd]]+byteToHex[_0x194ab9[_0x48810d+0xe]]+byteToHex[_0x194ab9[_0x48810d+0xf]])[_0x515893(0x139)]();}function stringify(_0x2fe860,_0x713fd0=0x0){const _0x4e6602=unsafeStringify(_0x2fe860,_0x713fd0);if(!isValidUUID(_0x4e6602))throw TypeError('生成的\x20UUID\x20不符合规范\x20'+_0x4e6602);return _0x4e6602;}function _0x4feb(){const _0x187f52=['has','TIME（动态UUID有效时间）:\x20','Error:\x20fetch\x20is\x20not\x20available\x20in\x20this\x20environment.','pow','188.114.96.0/21','\x0a\x20\x20udp:\x20false\x0a\x20\x20sni:\x20','ADDNOTLSAPI','Q0YtV29ya2Vycy1lZGdldHVubmVsL2NtbGl1','toString','digest','\x20配置信息\x0a---------------------------------------------------------------\x0a','SUB','text','random','服务器不接受任何认证方法','UFJPWFlJUC50cDEuZnh4ay5kZWR5bi5pbw==','writable','无效的\x20SOCKS\x20地址格式：IPv6\x20地址必须用方括号括起来，如\x20[2001:db8::1]','setHours','entries','\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux','addEventListener','text/html,application/xhtml+xml,application/xml;','proxyip','#获取订阅\x20','test','country','958559mObggA','UDP\x20代理仅对\x20DNS（53\x20端口）启用','?sub\x0a\x0aBase64订阅地址:\x0ahttps://','/socks5=','http://','finally','CF-Connecting-IP','gzip,\x20deflate,\x20br','&sni=','function','split','buffer','remoteConnection!.readable\x20abort','readableWebSocketStream\x20已中止','/?ed=2560','无效的地址类型:\x20','/sub?target=singbox&url=','172.64.0.0/14','toISOString','\x0aUUIDLow:\x20','getReader','\x20）:\x20\x0a\x20\x20','tcp\x20','ZG14bGMzTT0=','FALSE','\x20已启用临时域名中转服务，请尽快绑定自定义域！','readyState','fulfilled','&type=','find','filter','，期望是\x205','\x0aFKID:\x20','*tapecontent.net','error','ADDCSV','&path=','User-Agent','floor','</tg-spoiler>','safeCloseWebSocket\x20error','redirect','ADDCSV（IPTest测速csv文件\x20限速\x20','URL302','103.21.244.0/23','hostname','Error\x20sending\x20message:','push','sing-box','SUBCONFIG','releaseLock','now','toLowerCase','\x0aSUBAPI（订阅转换后端）:\x20','8.8.4.4','\x0a\x20\x20port:\x20','8080','includes','CFCDN（访问方式）:\x20无法访问,\x20需要您设置\x20proxyIP/PROXYIP\x20！！！\x0a','readableWebSocketStream\x20管道错误','decode','\x0aSUBCONFIG（订阅转换配置文件）:\x20','ADD','/socks5://','YWxsIGlu','b64','https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_MultiMode.ini','getWriter','invild\x20addressType\x20is\x20','map','charAt','104.24.0.0/14','Mozilla/5.0\x20Chrome/90.0.4430.72','SUBAPI','KEY','\x0a\x20\x20','\x0a---------------------------------------------------------------\x0a################################################################\x0av2ray\x0a---------------------------------------------------------------\x0a','获取CSV地址时出错:','.tp','then','TGTOKEN','SOCKS5\x20服务器需要认证','获取地址时出错:','attachment;\x20filename=','replace','&insert=false&config=','trim','url','notls','ADDAPI（TLS优选域名&IP\x20的\x20API）:\x20\x0a\x20\x20','reverse','websocket','slice','Upgrade','mozilla','SUBNAME','some','2095','CFCDN（访问方式）:\x20自动获取ProxyIP\x0a','ceil','JmVkZ2V0dW5uZWw9Y21saXUmcHJveHlpcD0=','?base64\x0a\x0aclash订阅地址:\x0ahttps://',':443','DLS','accept','randomized','from','\x0a\x20\x20network:\x20','SOCKS5%EF%BC%88%E7%99%BD%E5%90%8D%E5%8D%95%EF%BC%89%3A%20','URL','到期时间(UTC):\x20','enqueue','all','stringify','reject','text/plain;charset=utf-8','command\x20','\x0a---------------------------------------------------------------\x0a################################################################\x0a','sub','pop','CFPORTS',';\x20download=','\x20天\x0aUPTIME（动态UUID更新时间）:\x20','CFCDN（访问方式）:\x20Socks5\x0a\x20\x20','ADDNOTLS','get',';\x20filename*=utf-8\x27\x27','无效的\x20SOCKS\x20地址格式：端口号必须是数字','/?ed=2560&proxyip=','length','EMOJI',')\x20TCP\x20连接已关闭','statusText','read','log','&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','*ttvnw.net','778020mPwqTA','base64','concat',';\x20total=','3KXGuqD','\x0a---------------------------------------------------------------\x0a################################################################\x0aclash-meta\x0a---------------------------------------------------------------\x0a','TIME','join','\x0ahttps://','X-New-URL','Error\x20fetching\x20content:\x20','clash','连接到\x20','可读流被取消，原因是\x20','*cloudatacdn.com','toUpperCase','socks','\x0a<tg-spoiler>城市:\x20','getTime','catch','&notls','upload=','&security=','abort','substr','data','/sub?host=','P2VuY3J5cHRpb249bm9uZSZzZWN1cml0eT0mdHlwZT13cyZob3N0PQ==','\x0a\x20\x20server:\x20','handleDNSQuery\x20函数发生异常，错误信息:\x20','set','处理\x20TCP\x20出站连接\x20','dGVsZWdyYW0lMjAlRTQlQkElQTQlRTYlQjUlODElRTclQkUlQTQlMjAlRTYlOEElODAlRTYlOUMlQUYlRTUlQTQlQTclRTQlQkQlQUMlN0UlRTUlOUMlQTglRTclQkElQkYlRTUlOEYlOTElRTclODklOEMhCmh0dHBzJTNBJTJGJTJGdC5tZSUyRkNNTGl1c3NzcwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZ2l0aHViJTIwJUU5JUExJUI5JUU3JTlCJUFFJUU1JTlDJUIwJUU1JTlEJTgwJTIwU3RhciFTdGFyIVN0YXIhISEKaHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGY21saXUlMkZlZGdldHVubmVsCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQolMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjM=','虚假HOST:\x20','pipeTo','\x0a<tg-spoiler>','https://api.telegram.org/bot','%E6%89%80%E6%9C%89%E6%B5%81%E9%87%8F','socks5','11KZanKT','CFCDN（访问方式）:\x20ProxyIP\x0a\x20\x20','SHA-256','104.24.0.0/15','encode','\x0aSUB（优选订阅生成器）:\x20','443','/socks://','\x0aUUID:\x20','UUID','proxyip.','sec-websocket-protocol','/?ed=2560&socks5=','pathname','Host','/proxyip=','singbox','readable','230236AGEsiq','1578393poIJeB','remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20','headers','closed','#CF随机节点','value','send','http://ip-api.com/json/','close','2052','tls','虚假订阅:\x20','true','\x0a组织:\x20','.workers.dev','false','TOKEN:\x20','\x22\x0a\x09headers:\x0a\x09\x20\x20host:\x20','2096','请设置你的UUID变量，或尝试重试部署，检查变量是否生效？','connected\x20to\x20','readableWebSocketStream\x20已关闭','307586QIqoyY','json','已发送\x20SOCKS5\x20问候消息','Kg==','byteLength','</tg-spoiler>\x0a域名:\x20','2053','?sb\x0ahttps://','&proxyip=','?b64\x0ahttps://','\x0a\x20\x20name:\x20','.net','104.16.0.0/13','?clash\x0a\x0asingbox订阅地址:\x0ahttps://','GO2SOCKS5','padStart',';\x20expire=','SUBAPI.fxxk.dedyn.io','8969530SOLMWc','MD5','.pages.dev','&emoji=','CSV文件缺少必需的字段','udp\x20','8443','\x20(UTC+8):\x20','values','UA:\x20','IENGLVdvcmtlcnMtZWRnZXR1bm5lbC9jbWxpdQ==','PROXYIP','/proxyip.','worker','signal','&fp=random&type=ws&host=','\x20时（北京时间）\x0a\x0a','stack','match','8uWvqTf','6IwgQgN','search','已发送\x20SOCKS5\x20请求','\x0a\x20\x20ws-opts:\x0a\x09path:\x20\x22','\x0a\x20\x20uuid:\x20','1899480HhutpP','SOCKS5\x20连接已建立','write','SOCKS5\x20服务器版本错误:\x20收到\x20','status','indexOf','flatMap','TGID','\x0a国家:\x20','application/json','searchParams','/sendMessage?chat_id=','127.0.0.1:1234#CFnat','\x0a\x20\x20client-fingerprint:\x20','remoteSocketToWS\x20has\x20exception\x20','8880','://','ADDNOTLS（noTLS优选域名&IP）:\x20\x0a\x20\x20','city','RPROXYIP','subtle','\x0aUA:\x20','protocol','\x0aUUIDNow:\x20','\x0aASN:\x20','arrayBuffer','DNS\x20服务器(','proxyip=true'];_0x4feb=function(){return _0x187f52;};return _0x4feb();}async function handleDNSQuery(_0x171b8f,_0x5efe0b,_0x137875,_0x2e5863){const _0x19262c=_0xa90fe4;try{const _0x40f020=_0x19262c(0x13b),_0x4202ee=0x35;let _0x1bda14=_0x137875;const _0x275fa6=connect({'hostname':_0x40f020,'port':_0x4202ee});_0x2e5863(_0x19262c(0x19a)+_0x40f020+':'+_0x4202ee);const _0xceb509=_0x275fa6[_0x19262c(0xfa)][_0x19262c(0x148)]();await _0xceb509[_0x19262c(0xd0)](_0x171b8f),_0xceb509['releaseLock'](),await _0x275fa6[_0x19262c(0x8b)][_0x19262c(0x1b0)](new WritableStream({async 'write'(_0x598e07){const _0x3789a3=_0x19262c;_0x5efe0b['readyState']===WS_READY_STATE_OPEN&&(_0x1bda14?(_0x5efe0b['send'](await new Blob([_0x1bda14,_0x598e07])[_0x3789a3(0xe7)]()),_0x1bda14=null):_0x5efe0b[_0x3789a3(0x93)](_0x598e07));},'close'(){const _0x27cc54=_0x19262c;_0x2e5863(_0x27cc54(0xe8)+_0x40f020+_0x27cc54(0x188));},'abort'(_0x54f53e){const _0x34de4b=_0x19262c;console[_0x34de4b(0x127)](_0x34de4b(0xe8)+_0x40f020+')\x20TCP\x20连接异常中断',_0x54f53e);}}));}catch(_0x56f68e){console[_0x19262c(0x127)](_0x19262c(0x1ab)+_0x56f68e['message']);}}async function socks5Connect(_0x1203be,_0x498455,_0x2c3d02,_0x3260f5){const _0x3e1c80=_0xa90fe4,{username:_0x40b479,password:_0x42bc80,hostname:_0x513bf3,port:_0x5bf56a}=parsedSocks5Address,_0x11008c=connect({'hostname':_0x513bf3,'port':_0x5bf56a}),_0x1158a4=new Uint8Array([0x5,0x2,0x0,0x2]),_0x529c52=_0x11008c[_0x3e1c80(0xfa)][_0x3e1c80(0x148)]();await _0x529c52['write'](_0x1158a4),_0x3260f5(_0x3e1c80(0xa5));const _0x200629=_0x11008c[_0x3e1c80(0x8b)][_0x3e1c80(0x119)](),_0x1212a7=new TextEncoder();let _0x28dddd=(await _0x200629[_0x3e1c80(0x18a)]())['value'];if(_0x28dddd[0x0]!==0x5){_0x3260f5(_0x3e1c80(0xd1)+_0x28dddd[0x0]+_0x3e1c80(0x124));return;}if(_0x28dddd[0x1]===0xff){_0x3260f5(_0x3e1c80(0xf8));return;}if(_0x28dddd[0x1]===0x2){_0x3260f5(_0x3e1c80(0x156));if(!_0x40b479||!_0x42bc80){_0x3260f5('请提供用户名和密码');return;}const _0x41dcad=new Uint8Array([0x1,_0x40b479[_0x3e1c80(0x186)],..._0x1212a7['encode'](_0x40b479),_0x42bc80['length'],..._0x1212a7[_0x3e1c80(0x1b9)](_0x42bc80)]);await _0x529c52[_0x3e1c80(0xd0)](_0x41dcad),_0x28dddd=(await _0x200629[_0x3e1c80(0x18a)]())[_0x3e1c80(0x92)];if(_0x28dddd[0x0]!==0x1||_0x28dddd[0x1]!==0x0){_0x3260f5('SOCKS5\x20服务器认证失败');return;}}let _0x3e3d22;switch(_0x1203be){case 0x1:_0x3e3d22=new Uint8Array([0x1,..._0x498455[_0x3e1c80(0x10f)]('.')[_0x3e1c80(0x14a)](Number)]);break;case 0x2:_0x3e3d22=new Uint8Array([0x3,_0x498455[_0x3e1c80(0x186)],..._0x1212a7['encode'](_0x498455)]);break;case 0x3:_0x3e3d22=new Uint8Array([0x4,..._0x498455['split'](':')[_0x3e1c80(0xd4)](_0x39eb56=>[parseInt(_0x39eb56[_0x3e1c80(0x161)](0x0,0x2),0x10),parseInt(_0x39eb56[_0x3e1c80(0x161)](0x2),0x10)])]);break;default:_0x3260f5(_0x3e1c80(0x114)+_0x1203be);return;}const _0x5ab00d=new Uint8Array([0x5,0x1,0x0,..._0x3e3d22,_0x2c3d02>>0x8,_0x2c3d02&0xff]);await _0x529c52[_0x3e1c80(0xd0)](_0x5ab00d),_0x3260f5(_0x3e1c80(0xcb)),_0x28dddd=(await _0x200629['read']())[_0x3e1c80(0x92)];if(_0x28dddd[0x1]===0x0)_0x3260f5(_0x3e1c80(0xcf));else{_0x3260f5('SOCKS5\x20连接建立失败');return;}return _0x529c52['releaseLock'](),_0x200629['releaseLock'](),_0x11008c;}function socks5AddressParser(_0x43d870){const _0x324e4b=_0xa90fe4;let [_0x2fd3aa,_0x27fd6e]=_0x43d870['split']('@')[_0x324e4b(0x15f)](),_0x1ae787,_0x4dbda9,_0x34c45d,_0x21fed9;if(_0x27fd6e){const _0x53ccf3=_0x27fd6e[_0x324e4b(0x10f)](':');if(_0x53ccf3[_0x324e4b(0x186)]!==0x2)throw new Error('无效的\x20SOCKS\x20地址格式：认证部分必须是\x20\x22username:password\x22\x20的形式');[_0x1ae787,_0x4dbda9]=_0x53ccf3;}const _0x3fe92d=_0x2fd3aa[_0x324e4b(0x10f)](':');_0x21fed9=Number(_0x3fe92d[_0x324e4b(0x17c)]());if(isNaN(_0x21fed9))throw new Error(_0x324e4b(0x184));_0x34c45d=_0x3fe92d[_0x324e4b(0x195)](':');const _0x396119=/^\[.*\]$/;if(_0x34c45d[_0x324e4b(0x13e)](':')&&!_0x396119[_0x324e4b(0x103)](_0x34c45d))throw new Error(_0x324e4b(0xfb));return{'username':_0x1ae787,'password':_0x4dbda9,'hostname':_0x34c45d,'port':_0x21fed9};}function 恢复伪装信息(_0x186cb1,_0x12a7da,_0x585aa5,_0x36adde){const _0xb0a4a4=_0xa90fe4;if(_0x36adde)_0x186cb1=atob(_0x186cb1);_0x186cb1=_0x186cb1[_0xb0a4a4(0x159)](new RegExp(fakeUserID,'g'),_0x12a7da)[_0xb0a4a4(0x159)](new RegExp(fakeHostName,'g'),_0x585aa5);if(_0x36adde)_0x186cb1=btoa(_0x186cb1);return _0x186cb1;}async function 双重哈希(_0x5ab819){const _0x2c506d=_0xa90fe4,_0x4a850b=new TextEncoder(),_0x8dc45a=await crypto[_0x2c506d(0xe2)][_0x2c506d(0xf3)](_0x2c506d(0xb6),_0x4a850b[_0x2c506d(0x1b9)](_0x5ab819)),_0x47ac14=Array['from'](new Uint8Array(_0x8dc45a)),_0x558b2f=_0x47ac14[_0x2c506d(0x14a)](_0x5600bc=>_0x5600bc[_0x2c506d(0xf2)](0x10)[_0x2c506d(0xb2)](0x2,'0'))[_0x2c506d(0x195)](''),_0x5bddf4=await crypto['subtle'][_0x2c506d(0xf3)](_0x2c506d(0xb6),_0x4a850b[_0x2c506d(0x1b9)](_0x558b2f[_0x2c506d(0x161)](0x7,0x1b))),_0x40a6f0=Array[_0x2c506d(0x16f)](new Uint8Array(_0x5bddf4)),_0x2b6178=_0x40a6f0['map'](_0x146ad0=>_0x146ad0[_0x2c506d(0xf2)](0x10)[_0x2c506d(0xb2)](0x2,'0'))[_0x2c506d(0x195)]('');return _0x2b6178[_0x2c506d(0x139)]();}async function 代理URL(_0x1e0f2d,_0x4c7769){const _0x42d2e8=_0xa90fe4,_0x20d412=await 整理(_0x1e0f2d),_0x2e1f64=_0x20d412[Math['floor'](Math[_0x42d2e8(0xf7)]()*_0x20d412[_0x42d2e8(0x186)])];let _0x5aabf3=new URL(_0x2e1f64);console[_0x42d2e8(0x18b)](_0x5aabf3);let _0x364fd4=_0x5aabf3[_0x42d2e8(0xe4)]['slice'](0x0,-0x1)||'https',_0x5109b6=_0x5aabf3['hostname'],_0x1b5708=_0x5aabf3[_0x42d2e8(0x1c2)],_0x3bbe39=_0x5aabf3[_0x42d2e8(0xca)];_0x1b5708[_0x42d2e8(0x14b)](_0x1b5708[_0x42d2e8(0x186)]-0x1)=='/'&&(_0x1b5708=_0x1b5708[_0x42d2e8(0x161)](0x0,-0x1));_0x1b5708+=_0x4c7769[_0x42d2e8(0x1c2)];let _0x3d899e=_0x364fd4+_0x42d2e8(0xde)+_0x5109b6+_0x1b5708+_0x3bbe39,_0xf1b1b=await fetch(_0x3d899e),_0x2e77d7=new Response(_0xf1b1b['body'],{'status':_0xf1b1b[_0x42d2e8(0xd2)],'statusText':_0xf1b1b['statusText'],'headers':_0xf1b1b['headers']});return _0x2e77d7[_0x42d2e8(0x8f)][_0x42d2e8(0x1ac)](_0x42d2e8(0x197),_0x3d899e),_0x2e77d7;}function _0x3bc2(_0x5c3874,_0x12f527){const _0x4feb31=_0x4feb();return _0x3bc2=function(_0x3bc2fb,_0x40fea0){_0x3bc2fb=_0x3bc2fb-0x8b;let _0x47b11c=_0x4feb31[_0x3bc2fb];return _0x47b11c;},_0x3bc2(_0x5c3874,_0x12f527);}const 啥啥啥_写的这是啥啊=atob(_0xa90fe4(0x11c));function 配置信息(_0x1800d6,_0x37f83e){const _0x21bb02=_0xa90fe4,_0x5166ea=atob(啥啥啥_写的这是啥啊),_0x1a032a=FileName;let _0x422233=_0x37f83e,_0x5e54c4=0x1bb;const _0x2879df=_0x1800d6,_0x180186='none',_0x1ed52a='ws',_0x57bfa7=_0x37f83e,_0x303cde=path;let _0x36cabf=[_0x21bb02(0x97),!![]];const _0x2cbdab=_0x37f83e,_0x326db5=_0x21bb02(0x16e);_0x37f83e[_0x21bb02(0x13e)](_0x21bb02(0x9b))&&(_0x422233=atob('dmlzYS5jbg=='),_0x5e54c4=0x50,_0x36cabf=['',![]]);const _0x1423bc=_0x5166ea+'://'+_0x2879df+'@'+_0x422233+':'+_0x5e54c4+'?encry'+'p'+(atob('dGlvbj0=')+_0x180186+_0x21bb02(0x1a4)+_0x36cabf[0x0]+_0x21bb02(0x10d)+_0x2cbdab+'&fp='+_0x326db5+_0x21bb02(0x121)+_0x1ed52a+'&host='+_0x57bfa7+_0x21bb02(0x129)+encodeURIComponent(_0x303cde)+'#'+encodeURIComponent(_0x1a032a)),_0x20fb68='-\x20type:\x20'+_0x5166ea+_0x21bb02(0xad)+FileName+_0x21bb02(0x1aa)+_0x422233+_0x21bb02(0x13c)+_0x5e54c4+_0x21bb02(0xcd)+_0x2879df+_0x21bb02(0x170)+_0x1ed52a+'\x0a\x20\x20tls:\x20'+_0x36cabf[0x1]+_0x21bb02(0xef)+_0x2cbdab+_0x21bb02(0xdb)+_0x326db5+_0x21bb02(0xcc)+_0x303cde+_0x21bb02(0x9e)+_0x57bfa7;return[_0x1423bc,_0x20fb68];}let subParams=[_0xa90fe4(0x17b),_0xa90fe4(0x18f),_0xa90fe4(0x146),_0xa90fe4(0x199),'singbox','sb'];async function 生成配置信息(_0x368b11,_0x13ea4c,_0x4e5d5d,_0x4ca1b8,_0x4e7be7,_0x10ba19,_0x1275b7){const _0x12991f=_0xa90fe4;if(_0x4e5d5d){const _0x4f5da8=_0x4e5d5d['match'](/^(?:https?:\/\/)?([^\/]+)/);_0x4f5da8&&(_0x4e5d5d=_0x4f5da8[0x1]);const _0x1de05a=整理(_0x4e5d5d);if(_0x1de05a[_0x12991f(0x186)]>0x1)_0x4e5d5d=_0x1de05a[0x0];}else{if(addresses[_0x12991f(0x186)]+addressesapi[_0x12991f(0x186)]+addressesnotls[_0x12991f(0x186)]+addressesnotlsapi[_0x12991f(0x186)]+addressescsv[_0x12991f(0x186)]==0x0){let _0x3c6b14=[_0x12991f(0x131),_0x12991f(0xaf),_0x12991f(0x14c),_0x12991f(0x116),_0x12991f(0x131),'104.16.0.0/14',_0x12991f(0x1b8),'141.101.64.0/19',_0x12991f(0x116),_0x12991f(0xee),'190.93.240.0/21'];function _0x33811b(_0x5cd5ac){const _0x572e0f=_0x12991f,[_0x2f9a9d,_0x168c70]=_0x5cd5ac[_0x572e0f(0x10f)]('/'),_0x52f632=_0x2f9a9d['split']('.')['map'](Number),_0x3333d0=0x20-parseInt(_0x168c70,0xa),_0x3b62f3=Math[_0x572e0f(0xed)](0x2,_0x3333d0)-0x1,_0x45e70f=Math[_0x572e0f(0x12b)](Math[_0x572e0f(0xf7)]()*_0x3b62f3),_0x2b8b3e=_0x52f632[_0x572e0f(0x14a)]((_0x114f99,_0x58cc22)=>{if(_0x58cc22<0x2)return _0x114f99;if(_0x58cc22===0x2)return(_0x114f99&0xff<<_0x3333d0-0x8)+(_0x45e70f>>0x8&0xff);return(_0x114f99&0xff<<_0x3333d0)+(_0x45e70f&0xff);});return _0x2b8b3e[_0x572e0f(0x195)]('.');}addresses=addresses[_0x12991f(0x190)](_0x12991f(0xda)),_0x13ea4c[_0x12991f(0x13e)](_0x12991f(0x9b))?addressesnotls=addressesnotls[_0x12991f(0x190)](_0x3c6b14[_0x12991f(0x14a)](_0x492c60=>_0x33811b(_0x492c60)+_0x12991f(0x91))):addresses=addresses[_0x12991f(0x190)](_0x3c6b14[_0x12991f(0x14a)](_0x43cd1b=>_0x33811b(_0x43cd1b)+_0x12991f(0x91)));}}const _0x1c8047=_0x10ba19[_0x12991f(0x1c2)]=='/'+_0x1275b7[_0x12991f(0x14f)]?_0x1275b7[_0x12991f(0x14f)]:_0x368b11,_0xef1427=_0x4ca1b8[_0x12991f(0x139)](),_0x4f9eb5=配置信息(_0x368b11,_0x13ea4c),_0x2962f1=_0x4f9eb5[0x0],_0x5a0d56=_0x4f9eb5[0x1];let _0x3fac0d='';if(_0x13ea4c[_0x12991f(0x13e)](_0x12991f(0x9b))){if(proxyhostsURL&&(!proxyhosts||proxyhosts['length']==0x0))try{const _0x5a0600=await fetch(proxyhostsURL);if(!_0x5a0600['ok']){console[_0x12991f(0x127)](_0x12991f(0x157),_0x5a0600[_0x12991f(0xd2)],_0x5a0600['statusText']);return;}const _0x109f38=await _0x5a0600[_0x12991f(0xf6)](),_0x12bb39=_0x109f38['split']('\x0a'),_0x10cede=_0x12bb39[_0x12991f(0x123)](_0x1803ff=>_0x1803ff['trim']()!=='');proxyhosts=proxyhosts[_0x12991f(0x190)](_0x10cede);}catch(_0x4ef291){}if(proxyhosts[_0x12991f(0x186)]!=0x0)_0x3fac0d=proxyhosts[Math[_0x12991f(0x12b)](Math[_0x12991f(0xf7)]()*proxyhosts[_0x12991f(0x186)])]+'/';}if(_0xef1427[_0x12991f(0x13e)](_0x12991f(0x163))&&!subParams[_0x12991f(0x165)](_0xba8243=>_0x10ba19[_0x12991f(0xd8)][_0x12991f(0xea)](_0xba8243))){const _0x383312=socks5s[_0x12991f(0x14a)](_0x2402d5=>{const _0x4f1afc=_0x12991f;if(_0x2402d5[_0x4f1afc(0x13e)]('@'))return _0x2402d5[_0x4f1afc(0x10f)]('@')[0x1];else{if(_0x2402d5[_0x4f1afc(0x13e)]('//'))return _0x2402d5[_0x4f1afc(0x10f)]('//')[0x1];else return _0x2402d5;}});let _0x143ccb='';if(go2Socks5s[_0x12991f(0x186)]>0x0&&enableSocks){_0x143ccb=''+decodeURIComponent(_0x12991f(0x171));if(go2Socks5s[_0x12991f(0x13e)](atob(_0x12991f(0x145)))||go2Socks5s[_0x12991f(0x13e)](atob(_0x12991f(0xa6))))_0x143ccb+=decodeURIComponent(_0x12991f(0x1b3))+'\x0a';else _0x143ccb+=_0x12991f(0x150)+go2Socks5s['join']('\x0a\x20\x20')+'\x0a';}let _0x363e07='\x0a';if(_0x4e5d5d){if(enableSocks)_0x363e07+=_0x12991f(0x180)+_0x383312[_0x12991f(0x195)](_0x12991f(0x150))+'\x0a'+_0x143ccb;else{if(proxyIP&&proxyIP!='')_0x363e07+='CFCDN（访问方式）:\x20ProxyIP\x0a\x20\x20'+proxyIPs[_0x12991f(0x195)](_0x12991f(0x150))+'\x0a';else{if(_0x4e7be7=='true')_0x363e07+=_0x12991f(0x167);else _0x363e07+=_0x12991f(0x13f);}}_0x363e07+=_0x12991f(0x1ba)+_0x4e5d5d;}else{if(enableSocks)_0x363e07+=_0x12991f(0x180)+_0x383312[_0x12991f(0x195)](_0x12991f(0x150))+'\x0a'+_0x143ccb;else{if(proxyIP&&proxyIP!='')_0x363e07+=_0x12991f(0x1b6)+proxyIPs[_0x12991f(0x195)](_0x12991f(0x150))+'\x0a';else _0x363e07+=_0x12991f(0x13f);}_0x363e07+='\x0a您的订阅内容由\x20内置\x20addresses/ADD*\x20参数变量提供\x0a';if(addresses[_0x12991f(0x186)]>0x0)_0x363e07+='ADD（TLS优选域名&IP）:\x20\x0a\x20\x20'+addresses[_0x12991f(0x195)]('\x0a\x20\x20')+'\x0a';if(addressesnotls[_0x12991f(0x186)]>0x0)_0x363e07+=_0x12991f(0xdf)+addressesnotls['join'](_0x12991f(0x150))+'\x0a';if(addressesapi[_0x12991f(0x186)]>0x0)_0x363e07+=_0x12991f(0x15e)+addressesapi[_0x12991f(0x195)](_0x12991f(0x150))+'\x0a';if(addressesnotlsapi[_0x12991f(0x186)]>0x0)_0x363e07+='ADDNOTLSAPI（noTLS优选域名&IP\x20的\x20API）:\x20\x0a\x20\x20'+addressesnotlsapi[_0x12991f(0x195)](_0x12991f(0x150))+'\x0a';if(addressescsv[_0x12991f(0x186)]>0x0)_0x363e07+=_0x12991f(0x12f)+DLS+_0x12991f(0x11a)+addressescsv[_0x12991f(0x195)](_0x12991f(0x150))+'\x0a';}if(_0x1275b7['KEY']&&_0x10ba19[_0x12991f(0x1c2)]!=='/'+_0x1275b7[_0x12991f(0x14f)])_0x363e07='';else _0x363e07+=_0x12991f(0x13a)+subProtocol+_0x12991f(0xde)+subConverter+_0x12991f(0x142)+subConfig;const _0x211bec=_0x1c8047!=_0x368b11?_0x12991f(0x9d)+_0x1c8047+_0x12991f(0xe5)+_0x368b11+_0x12991f(0x118)+userIDLow+'\x0a'+userIDTime+_0x12991f(0xeb)+有效时间+_0x12991f(0x17f)+更新时间+_0x12991f(0xc5):''+userIDTime;return'\x0a################################################################\x0aSubscribe\x20/\x20sub\x20订阅地址,\x20支持\x20Base64、clash-meta、sing-box\x20订阅格式\x0a---------------------------------------------------------------\x0a快速自适应订阅地址:\x0ahttps://'+_0x3fac0d+_0x13ea4c+'/'+_0x1c8047+_0x12991f(0x196)+_0x3fac0d+_0x13ea4c+'/'+_0x1c8047+_0x12991f(0x107)+_0x3fac0d+_0x13ea4c+'/'+_0x1c8047+_0x12991f(0xac)+_0x3fac0d+_0x13ea4c+'/'+_0x1c8047+_0x12991f(0x16a)+_0x3fac0d+_0x13ea4c+'/'+_0x1c8047+_0x12991f(0xb0)+_0x3fac0d+_0x13ea4c+'/'+_0x1c8047+_0x12991f(0xaa)+_0x3fac0d+_0x13ea4c+'/'+_0x1c8047+'?singbox\x0a---------------------------------------------------------------\x0a################################################################\x0a'+FileName+_0x12991f(0xf4)+_0x211bec+'HOST:\x20'+_0x13ea4c+_0x12991f(0x1bd)+_0x368b11+_0x12991f(0x125)+fakeUserID+_0x12991f(0xe3)+_0x4ca1b8+'\x0a'+_0x363e07+_0x12991f(0x151)+_0x2962f1+_0x12991f(0x193)+_0x5a0d56+_0x12991f(0x17a)+decodeURIComponent(atob(_0x12991f(0x1ae)))+'\x0a';}else{if(typeof fetch!=_0x12991f(0x10e))return _0x12991f(0xec);let _0x5a42a0=[],_0x2197ee=[],_0x344d61=[],_0x577833=[];if(_0x13ea4c[_0x12991f(0x13e)]('.workers.dev'))noTLS=_0x12991f(0x99),fakeHostName=fakeHostName+_0x12991f(0x9b),_0x344d61=await 整理优选列表(addressesnotlsapi),_0x577833=await 整理测速结果(_0x12991f(0x11d));else{if(_0x13ea4c['includes'](_0x12991f(0xb7)))fakeHostName=fakeHostName+'.pages.dev';else _0x13ea4c[_0x12991f(0x13e)](_0x12991f(0xc2))||_0x13ea4c['includes'](_0x12991f(0x15d))||noTLS==_0x12991f(0x99)?(noTLS=_0x12991f(0x99),fakeHostName=_0x12991f(0x15d)+fakeHostName+_0x12991f(0xae),_0x344d61=await 整理优选列表(addressesnotlsapi),_0x577833=await 整理测速结果('FALSE')):fakeHostName=fakeHostName+'.xyz';}console['log'](_0x12991f(0x1af)+fakeHostName);let _0x31a75e=subProtocol+_0x12991f(0xde)+_0x4e5d5d+_0x12991f(0x1a8)+fakeHostName+'&uuid='+(fakeUserID+atob(_0x12991f(0x169))+_0x4e7be7)+_0x12991f(0x129)+encodeURIComponent(path),_0x4be0b2=!![];if(!_0x4e5d5d||_0x4e5d5d==''){if(_0x13ea4c[_0x12991f(0x13e)]('workers.dev')){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x12991f(0x186)]==0x0))try{const _0x339c7b=await fetch(proxyhostsURL);if(!_0x339c7b['ok']){console[_0x12991f(0x127)](_0x12991f(0x157),_0x339c7b[_0x12991f(0xd2)],_0x339c7b[_0x12991f(0x189)]);return;}const _0x575563=await _0x339c7b['text'](),_0x271dfa=_0x575563['split']('\x0a'),_0x5b156c=_0x271dfa[_0x12991f(0x123)](_0x5b9ed9=>_0x5b9ed9[_0x12991f(0x15b)]()!=='');proxyhosts=proxyhosts[_0x12991f(0x190)](_0x5b156c);}catch(_0x3d956b){console[_0x12991f(0x127)](_0x12991f(0x157),_0x3d956b);}proxyhosts=[...new Set(proxyhosts)];}_0x5a42a0=await 整理优选列表(addressesapi),_0x2197ee=await 整理测速结果('TRUE'),_0x31a75e='https://'+_0x13ea4c+'/'+(fakeUserID+_0x10ba19[_0x12991f(0xca)]);if(_0x13ea4c[_0x12991f(0x13e)](_0x12991f(0xc2))||_0x13ea4c[_0x12991f(0x13e)](_0x12991f(0x15d))||noTLS=='true'){if(_0x10ba19['search'])_0x31a75e+=_0x12991f(0x1a2);else _0x31a75e+='?notls';}console['log'](_0x12991f(0x98)+_0x31a75e);}if(!_0xef1427[_0x12991f(0x13e)]('CF-Workers-SUB'['toLowerCase']())){if(_0xef1427['includes']('clash')&&!_0xef1427[_0x12991f(0x13e)]('nekobox')||_0x10ba19[_0x12991f(0xd8)][_0x12991f(0xea)]('clash')&&!_0xef1427[_0x12991f(0x13e)]('subconverter'))_0x31a75e=subProtocol+_0x12991f(0xde)+subConverter+'/sub?target=clash&url='+encodeURIComponent(_0x31a75e)+_0x12991f(0x15a)+encodeURIComponent(subConfig)+'&emoji='+subEmoji+_0x12991f(0x18c),_0x4be0b2=![];else(_0xef1427[_0x12991f(0x13e)](_0x12991f(0x135))||_0xef1427['includes'](_0x12991f(0x1c5))||(_0x10ba19[_0x12991f(0xd8)][_0x12991f(0xea)](_0x12991f(0x1c5))||_0x10ba19[_0x12991f(0xd8)]['has']('sb'))&&!_0xef1427['includes']('subconverter'))&&(_0x31a75e=subProtocol+_0x12991f(0xde)+subConverter+_0x12991f(0x115)+encodeURIComponent(_0x31a75e)+'&insert=false&config='+encodeURIComponent(subConfig)+_0x12991f(0xb8)+subEmoji+_0x12991f(0x18c),_0x4be0b2=![]);}try{let _0x3247de;if((!_0x4e5d5d||_0x4e5d5d=='')&&_0x4be0b2==!![])_0x3247de=await 生成本地订阅(fakeHostName,fakeUserID,noTLS,_0x5a42a0,_0x2197ee,_0x344d61,_0x577833);else{const _0x2738a5=await fetch(_0x31a75e,{'headers':{'User-Agent':_0x4ca1b8+atob(_0x12991f(0xbf))}});_0x3247de=await _0x2738a5[_0x12991f(0xf6)]();}if(_0x10ba19[_0x12991f(0x1c2)]=='/'+fakeUserID)return _0x3247de;return 恢复伪装信息(_0x3247de,_0x368b11,_0x13ea4c,_0x4be0b2);}catch(_0x397899){return console[_0x12991f(0x127)]('Error\x20fetching\x20content:',_0x397899),_0x12991f(0x198)+_0x397899['message'];}}}async function 整理优选列表(_0x211661){const _0x24751f=_0xa90fe4;if(!_0x211661||_0x211661['length']===0x0)return[];let _0x415854='';const _0x56a7cf=new AbortController(),_0x3a935a=setTimeout(()=>{const _0x2f7ef8=_0x3bc2;_0x56a7cf[_0x2f7ef8(0x1a5)]();},0x7d0);try{const _0x4d8edf=await Promise['allSettled'](_0x211661['map'](_0x3f5c84=>fetch(_0x3f5c84,{'method':_0x24751f(0x182),'headers':{'Accept':_0x24751f(0x100),'User-Agent':atob(_0x24751f(0xf1))},'signal':_0x56a7cf[_0x24751f(0xc3)]})[_0x24751f(0x154)](_0x38580c=>_0x38580c['ok']?_0x38580c['text']():Promise[_0x24751f(0x177)]())));for(const [_0x670804,_0x1e9c74]of _0x4d8edf[_0x24751f(0xfd)]()){if(_0x1e9c74[_0x24751f(0xd2)]===_0x24751f(0x120)){const _0x593b57=await _0x1e9c74[_0x24751f(0x92)];_0x211661[_0x670804][_0x24751f(0x13e)]('proxyip=true')&&(proxyIPPool=proxyIPPool['concat']((await 整理(_0x593b57))['map'](_0x45f0b8=>{const _0x51faf6=_0x24751f,_0x112771=_0x45f0b8[_0x51faf6(0x10f)]('#')[0x0]||_0x45f0b8;if(_0x112771[_0x51faf6(0x13e)](':')){const _0x181d9e=_0x112771['split'](':')[0x1];if(!httpsPorts[_0x51faf6(0x13e)](_0x181d9e))return _0x112771;}else return _0x112771+_0x51faf6(0x16b);return null;})[_0x24751f(0x123)](Boolean))),_0x415854+=_0x593b57+'\x0a';}}}catch(_0x1488d9){console[_0x24751f(0x127)](_0x1488d9);}finally{clearTimeout(_0x3a935a);}const _0xecc48f=await 整理(_0x415854);return _0xecc48f;}async function 整理测速结果(_0x2957ce){const _0x35f95f=_0xa90fe4;if(!addressescsv||addressescsv[_0x35f95f(0x186)]===0x0)return[];let _0x33a9e1=[];for(const _0x1a938a of addressescsv){try{const _0x5e1e7d=await fetch(_0x1a938a);if(!_0x5e1e7d['ok']){console['error'](_0x35f95f(0x152),_0x5e1e7d[_0x35f95f(0xd2)],_0x5e1e7d['statusText']);continue;}const _0x3f7491=await _0x5e1e7d[_0x35f95f(0xf6)]();let _0x30f9e0;_0x3f7491['includes']('\x0d\x0a')?_0x30f9e0=_0x3f7491[_0x35f95f(0x10f)]('\x0d\x0a'):_0x30f9e0=_0x3f7491[_0x35f95f(0x10f)]('\x0a');const _0x37523d=_0x30f9e0[0x0]['split'](','),_0x24ea03=_0x37523d[_0x35f95f(0xd3)]('TLS'),_0x34b18c=0x0,_0x7c4e5e=0x1,_0x3e93e9=_0x24ea03+0x1;if(_0x24ea03===-0x1){console[_0x35f95f(0x127)](_0x35f95f(0xb9));continue;}for(let _0x2dce7c=0x1;_0x2dce7c<_0x30f9e0['length'];_0x2dce7c++){const _0x55d2cb=_0x30f9e0[_0x2dce7c][_0x35f95f(0x10f)](','),_0x4c16b8=_0x55d2cb['length']-0x1;if(_0x55d2cb[_0x24ea03][_0x35f95f(0x19d)]()===_0x2957ce&&parseFloat(_0x55d2cb[_0x4c16b8])>DLS){const _0x2f65c9=_0x55d2cb[_0x34b18c],_0x5ab8bf=_0x55d2cb[_0x7c4e5e],_0x23edea=_0x55d2cb[_0x3e93e9],_0x5bce98=_0x2f65c9+':'+_0x5ab8bf+'#'+_0x23edea;_0x33a9e1[_0x35f95f(0x134)](_0x5bce98),_0x1a938a[_0x35f95f(0x13e)](_0x35f95f(0xe9))&&_0x55d2cb[_0x24ea03][_0x35f95f(0x19d)]()=='true'&&!httpsPorts['includes'](_0x5ab8bf)&&proxyIPPool['push'](_0x2f65c9+':'+_0x5ab8bf);}}}catch(_0x49cfec){console[_0x35f95f(0x127)]('获取CSV地址时出错:',_0x49cfec);continue;}}return _0x33a9e1;}function 生成本地订阅(_0x33cb70,_0x4cf172,_0x2987f0,_0xa7fba0,_0x584a6a,_0x573f82,_0x26de79){const _0x329993=_0xa90fe4,_0x3fd915=/^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[.*\]):?(\d+)?#?(.*)?$/;addresses=addresses[_0x329993(0x190)](_0xa7fba0),addresses=addresses[_0x329993(0x190)](_0x584a6a);let _0x246d63;if(_0x2987f0=='true'){addressesnotls=addressesnotls[_0x329993(0x190)](_0x573f82),addressesnotls=addressesnotls[_0x329993(0x190)](_0x26de79);const _0x5ae12b=[...new Set(addressesnotls)];_0x246d63=_0x5ae12b[_0x329993(0x14a)](_0x15fe4b=>{const _0x2c5e3b=_0x329993;let _0x50d812='-1',_0x1fafe4=_0x15fe4b;const _0x4b9081=_0x1fafe4[_0x2c5e3b(0xc7)](_0x3fd915);if(!_0x4b9081){if(_0x15fe4b[_0x2c5e3b(0x13e)](':')&&_0x15fe4b[_0x2c5e3b(0x13e)]('#')){const _0x4cd05a=_0x15fe4b[_0x2c5e3b(0x10f)](':');_0x15fe4b=_0x4cd05a[0x0];const _0xb75f64=_0x4cd05a[0x1]['split']('#');_0x50d812=_0xb75f64[0x0],_0x1fafe4=_0xb75f64[0x1];}else{if(_0x15fe4b[_0x2c5e3b(0x13e)](':')){const _0x460506=_0x15fe4b[_0x2c5e3b(0x10f)](':');_0x15fe4b=_0x460506[0x0],_0x50d812=_0x460506[0x1];}else{if(_0x15fe4b['includes']('#')){const _0x583235=_0x15fe4b[_0x2c5e3b(0x10f)]('#');_0x15fe4b=_0x583235[0x0],_0x1fafe4=_0x583235[0x1];}}}_0x1fafe4['includes'](':')&&(_0x1fafe4=_0x1fafe4[_0x2c5e3b(0x10f)](':')[0x0]);}else _0x15fe4b=_0x4b9081[0x1],_0x50d812=_0x4b9081[0x2]||_0x50d812,_0x1fafe4=_0x4b9081[0x3]||_0x15fe4b;const _0x7e9832=[_0x2c5e3b(0x13d),_0x2c5e3b(0xdd),_0x2c5e3b(0x96),'2082','2086',_0x2c5e3b(0x166)];if(!isValidIPv4(_0x15fe4b)&&_0x50d812=='-1')for(let _0x45d935 of _0x7e9832){if(_0x15fe4b['includes'](_0x45d935)){_0x50d812=_0x45d935;break;}}if(_0x50d812=='-1')_0x50d812='80';let _0x10522f=_0x33cb70,_0x589bf4=path,_0x460e78='';const _0xac056d=atob(啥啥啥_写的这是啥啊),_0x1edc20=_0xac056d+'://'+_0x4cf172+'@'+_0x15fe4b+':'+(_0x50d812+atob(_0x2c5e3b(0x1a9))+_0x10522f)+_0x2c5e3b(0x129)+encodeURIComponent(_0x589bf4)+'#'+encodeURIComponent(_0x1fafe4+_0x460e78);return _0x1edc20;})[_0x329993(0x195)]('\x0a');}const _0x3beff8=[...new Set(addresses)],_0x264922=_0x3beff8[_0x329993(0x14a)](_0x5468af=>{const _0x4b603c=_0x329993;let _0x4da96a='-1',_0x1f45b7=_0x5468af;const _0x409587=_0x1f45b7[_0x4b603c(0xc7)](_0x3fd915);if(!_0x409587){if(_0x5468af[_0x4b603c(0x13e)](':')&&_0x5468af[_0x4b603c(0x13e)]('#')){const _0x2625a6=_0x5468af[_0x4b603c(0x10f)](':');_0x5468af=_0x2625a6[0x0];const _0x1fbc4d=_0x2625a6[0x1][_0x4b603c(0x10f)]('#');_0x4da96a=_0x1fbc4d[0x0],_0x1f45b7=_0x1fbc4d[0x1];}else{if(_0x5468af['includes'](':')){const _0x39e26f=_0x5468af[_0x4b603c(0x10f)](':');_0x5468af=_0x39e26f[0x0],_0x4da96a=_0x39e26f[0x1];}else{if(_0x5468af['includes']('#')){const _0x5a0bd1=_0x5468af[_0x4b603c(0x10f)]('#');_0x5468af=_0x5a0bd1[0x0],_0x1f45b7=_0x5a0bd1[0x1];}}}_0x1f45b7[_0x4b603c(0x13e)](':')&&(_0x1f45b7=_0x1f45b7[_0x4b603c(0x10f)](':')[0x0]);}else _0x5468af=_0x409587[0x1],_0x4da96a=_0x409587[0x2]||_0x4da96a,_0x1f45b7=_0x409587[0x3]||_0x5468af;if(!isValidIPv4(_0x5468af)&&_0x4da96a=='-1')for(let _0x2dae02 of httpsPorts){if(_0x5468af[_0x4b603c(0x13e)](_0x2dae02)){_0x4da96a=_0x2dae02;break;}}if(_0x4da96a=='-1')_0x4da96a=_0x4b603c(0x1bb);let _0x455272=_0x33cb70,_0x31a985=path,_0xf79411='';const _0x198aa3=proxyIPPool[_0x4b603c(0x122)](_0x48e6e1=>_0x48e6e1[_0x4b603c(0x13e)](_0x5468af));if(_0x198aa3)_0x31a985+=_0x4b603c(0xab)+_0x198aa3;proxyhosts[_0x4b603c(0x186)]>0x0&&_0x455272[_0x4b603c(0x13e)]('.workers.dev')&&(_0x31a985='/'+_0x455272+_0x31a985,_0x455272=proxyhosts[Math[_0x4b603c(0x12b)](Math['random']()*proxyhosts[_0x4b603c(0x186)])],_0xf79411=_0x4b603c(0x11e));const _0x485ddb=atob(啥啥啥_写的这是啥啊),_0x1f1263=_0x485ddb+_0x4b603c(0xde)+_0x4cf172+'@'+_0x5468af+':'+(_0x4da96a+atob('P2VuY3J5cHRpb249bm9uZSZzZWN1cml0eT10bHMmc25pPQ==')+_0x455272)+_0x4b603c(0xc4)+_0x455272+'&path='+encodeURIComponent(_0x31a985)+'#'+encodeURIComponent(_0x1f45b7+_0xf79411);return _0x1f1263;})[_0x329993(0x195)]('\x0a');let _0x516522=_0x264922;if(_0x2987f0=='true')_0x516522+='\x0a'+_0x246d63;return btoa(_0x516522);}async function 整理(_0x118eb8){const _0x29864d=_0xa90fe4;var _0x338afc=_0x118eb8[_0x29864d(0x159)](/[	|"'\r\n]+/g,',')[_0x29864d(0x159)](/,+/g,',');if(_0x338afc[_0x29864d(0x14b)](0x0)==',')_0x338afc=_0x338afc[_0x29864d(0x161)](0x1);if(_0x338afc[_0x29864d(0x14b)](_0x338afc[_0x29864d(0x186)]-0x1)==',')_0x338afc=_0x338afc[_0x29864d(0x161)](0x0,_0x338afc[_0x29864d(0x186)]-0x1);const _0x1faffc=_0x338afc[_0x29864d(0x10f)](',');return _0x1faffc;}async function sendMessage(_0xa2fe5a,_0x295833,_0x22048c=''){const _0x322fdc=_0xa90fe4;if(!BotToken||!ChatID)return;try{let _0x522e63='';const _0x14ae27=await fetch(_0x322fdc(0x94)+_0x295833+'?lang=zh-CN');if(_0x14ae27['ok']){const _0x55a112=await _0x14ae27[_0x322fdc(0xa4)]();_0x522e63=_0xa2fe5a+'\x0aIP:\x20'+_0x295833+_0x322fdc(0xd6)+_0x55a112[_0x322fdc(0x104)]+_0x322fdc(0x19f)+_0x55a112[_0x322fdc(0xe0)]+_0x322fdc(0x9a)+_0x55a112['org']+_0x322fdc(0xe6)+_0x55a112['as']+'\x0a'+_0x22048c;}else _0x522e63=_0xa2fe5a+'\x0aIP:\x20'+_0x295833+_0x322fdc(0x1b1)+_0x22048c;const _0x729aeb=_0x322fdc(0x1b2)+BotToken+_0x322fdc(0xd9)+ChatID+'&parse_mode=HTML&text='+encodeURIComponent(_0x522e63);return fetch(_0x729aeb,{'method':'GET','headers':{'Accept':_0x322fdc(0x100),'Accept-Encoding':_0x322fdc(0x10c),'User-Agent':_0x322fdc(0x14d)}});}catch(_0x329a97){console[_0x322fdc(0x127)](_0x322fdc(0x133),_0x329a97);}}function isValidIPv4(_0x166e9c){const _0x936b4a=_0xa90fe4,_0x423bce=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return _0x423bce[_0x936b4a(0x103)](_0x166e9c);}function 生成动态UUID(_0x22788a){const _0x330348=_0xa90fe4,_0xe59644=0x8,_0x2ae028=new Date(0x7d7,0x6,0x7,更新时间,0x0,0x0),_0x338d2e=0x3e8*0x3c*0x3c*0x18*有效时间;function _0x4e76d6(){const _0x41b673=_0x3bc2,_0x10b518=new Date(),_0x34cfa8=new Date(_0x10b518['getTime']()+_0xe59644*0x3c*0x3c*0x3e8),_0x225ec8=_0x34cfa8-_0x2ae028;return Math[_0x41b673(0x168)](_0x225ec8/_0x338d2e);}function _0x2990da(_0x5180ea){const _0xe22cd2=_0x3bc2,_0x527905=new TextEncoder()[_0xe22cd2(0x1b9)](_0x5180ea);return crypto['subtle']['digest'](_0xe22cd2(0x1b7),_0x527905)['then'](_0xde1cb9=>{const _0x11569e=_0xe22cd2,_0x9eb9a5=Array['from'](new Uint8Array(_0xde1cb9)),_0x344eab=_0x9eb9a5[_0x11569e(0x14a)](_0x1b26ea=>_0x1b26ea[_0x11569e(0xf2)](0x10)['padStart'](0x2,'0'))['join']('');return _0x344eab[_0x11569e(0x1a6)](0x0,0x8)+'-'+_0x344eab['substr'](0x8,0x4)+'-4'+_0x344eab[_0x11569e(0x1a6)](0xd,0x3)+'-'+(parseInt(_0x344eab[_0x11569e(0x1a6)](0x10,0x2),0x10)&0x3f|0x80)[_0x11569e(0xf2)](0x10)+_0x344eab[_0x11569e(0x1a6)](0x12,0x2)+'-'+_0x344eab[_0x11569e(0x1a6)](0x14,0xc);});}const _0x1fd248=_0x4e76d6(),_0x3b68d7=new Date(_0x2ae028[_0x330348(0x1a0)]()+_0x1fd248*_0x338d2e),_0x468ec1=_0x2990da(_0x22788a+_0x1fd248),_0x627477=_0x2990da(_0x22788a+(_0x1fd248-0x1)),_0x2941da=new Date(_0x3b68d7[_0x330348(0x1a0)]()-_0xe59644*0x3c*0x3c*0x3e8),_0x2d85bb=_0x330348(0x173)+_0x2941da[_0x330348(0x117)]()[_0x330348(0x161)](0x0,0x13)[_0x330348(0x159)]('T','\x20')+_0x330348(0xbc)+_0x3b68d7[_0x330348(0x117)]()[_0x330348(0x161)](0x0,0x13)[_0x330348(0x159)]('T','\x20')+'\x0a';return Promise[_0x330348(0x175)]([_0x468ec1,_0x627477,_0x2d85bb]);}